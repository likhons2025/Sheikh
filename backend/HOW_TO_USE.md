# How to Use the README Generator Service

This document explains how to use the `ReadmeGeneratorService` to automatically generate `README.md` files and post them to GitHub.

## Overview

The `ReadmeGeneratorService` is a Python class that provides two main functionalities:
1.  **`generate_readme_content`**: Generates the full Markdown content for a `README.md` file based on provided repository details.
2.  **`create_readme_on_github`**: Creates or updates a `README.md` file in a specified GitHub repository with the provided content.

## Dependencies

Before using the service, ensure you have the required libraries installed:
- `pydantic`
- `PyGithub`

You can install them using pip:
```bash
pip install pydantic pygithub
```

## Usage

### 1. Generating README Content

To generate the content for a README, you first need to create a `ReadmeRequest` object.

```python
from app.application.schemas.readme_schemas import ReadmeRequest
from app.application.services.readme_generator_service import ReadmeGeneratorService

# 1. Create a request object with your repository details
request_data = ReadmeRequest(
    repo_name="My-Cool-Project",
    repo_description="This is a project that does amazing things.",
    author="Your Name",
    license="MIT"
)

# 2. Instantiate the service
service = ReadmeGeneratorService()

# 3. Generate the content
readme_content = service.generate_readme_content(request_data)

print(readme_content)
```

### 2. Creating the README on GitHub

To post the generated README to a GitHub repository, use the `create_readme_on_github` method.

**Note:** This requires a GitHub Personal Access Token (PAT) with the `repo` scope. You should pass this token securely to the method, for example, by loading it from an environment variable.

```python
# Assuming 'readme_content' is the string generated from the previous step

# Your GitHub Personal Access Token
# It's recommended to load this from environment variables, not hardcode it.
import os
github_token = os.environ.get("GITHUB_TOKEN")

# The full name of your repository (e.g., "username/repository-name")
repo_full_name = "your-github-username/your-repo-name"

if github_token:
    # Use the service to create/update the file on GitHub
    success = service.create_readme_on_github(
        repo_full_name=repo_full_name,
        content=readme_content,
        github_token=github_token
    )

    if success:
        print(f"Successfully created/updated README.md in {repo_full_name}")
    else:
        print(f"Failed to create/updated README.md in {repo_full_name}")
else:
    print("GITHUB_TOKEN environment variable not set.")

```

## Service Details

### `ReadmeRequest` Schema

The `ReadmeRequest` object has the following fields:

- `repo_name` (str, required): The name of the repository.
- `repo_description` (str, required): A short description of the repository.
- `author` (str, optional): The author's name.
- `license` (str, optional): The license of the project (e.g., "MIT", "GPL-3.0"). Defaults to "MIT".

### AI Content Generation

Currently, the service uses placeholder text for the "Installation," "Usage," and "Contributing" sections of the README. In a future version, these sections will be generated by an AI model to provide more contextually relevant information.
